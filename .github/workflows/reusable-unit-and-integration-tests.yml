name: Unit and Integration Tests Reusable Workflow

on:
  workflow_dispatch: 
  workflow_call:

jobs:
  run-unit-and-integration-tests:
    runs-on: ubuntu-latest
    steps:
      - name: Clone Repo
        uses: actions/checkout@v3

      - name: Run Auth Unit Tests
        run: dotnet test ./tests/unit/TechNews.Auth.Api.Tests/TechNews.Auth.Api.Tests.csproj

      - name: Run Core Unit Tests
        run: dotnet test ./tests/unit/TechNews.Core.Api.Tests/TechNews.Core.Api.Tests.csproj

      - name: Run Auth Integration Tests
        run: dotnet test ./tests/integration/TechNews.Auth.Api.IntegrationTests/TechNews.Auth.Api.IntegrationTests.csproj